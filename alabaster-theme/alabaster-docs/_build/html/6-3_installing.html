
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>6.3 Installing &#8212; GridDB-Docs  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6.4 Upgrading the Editions" href="6-4_upgrading-the-editions.html" />
    <link rel="prev" title="6.2 Sizing and Scaling" href="6-2_sizing-and-scaling.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="6-2_sizing-and-scaling.html" title="Previous document">6.2 Sizing and Scaling</a>
        </li>
        <li>
          <a href="6-4_upgrading-the-editions.html" title="Next document">6.4 Upgrading the Editions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <p>Table of Contents</p>
<div class="section" id="installing">
<span id="installing"></span><h1>6.3 Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h1>
<p>The following chapter will discuss how to install GridDB (Standard Edition). Instructions for installing on the cloud can be found <a class="reference external" href="#online">below</a></p>
<div class="section" id="on-premises">
<span id="on-premises"></span><h2>On Premises<a class="headerlink" href="#on-premises" title="Permalink to this headline">¶</a></h2>
<p>The following 3 RPM packages are needed when installing a GridDB node. Place these packages anywhere in the machine.</p>
<p>Package name</p>
<p>File name</p>
<p>Description</p>
<p>griddb-server</p>
<p>griddb-server-X.X.X-linux.x86_64.rpm</p>
<p>The start and other commands for the GridDB node module and server are included.</p>
<p>griddb-client</p>
<p>griddb-client-X.X.X-linux.x86_64.rpm</p>
<p>One set of operating commands except start node is included.</p>
<p>griddb-docs</p>
<p>griddb-docs-X.X.X-linux.x86_64.rpm</p>
<p>GridDB manual and program samples are included.</p>
<p>*: X.X.X is the GridDB version</p>
<p>Install using the rpm command as a root user.</p>
<p>$ su
# rpm -Uvh griddb-server-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
User gsadm and group gridstore have been registered.
GridStore uses new user and group.
1:griddb-server                 ########################################### [100%]
# rpm -Uvh griddb-client-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
User and group has already been registered correctly.
GridStore uses existing user and group.
1:griddb-client                  ########################################### [100%]
# rpm -Uvh griddb-docs-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
1:griddb-docs                   ########################################### [100%]</p>
<p>When you install the package, the following group and user are created in the OS. This OS user is set as the operator of GridDB.</p>
<p>Group</p>
<p>User</p>
<p>Home directory</p>
<p>gridstore</p>
<p>gsadm</p>
<p>/var/lib/gridstore</p>
<p>The following environment variables are defined in this gsadm user.</p>
<p>Environment variables</p>
<p>Value</p>
<p>Meaning</p>
<p>GS_HOME</p>
<p>/var/lib/gridstore</p>
<p>gsadm/GridDB home directory</p>
<p>GS_LOG</p>
<p>/var/lib/gridstore/log</p>
<p>Event log file output directory</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>These environment variables are used in the operating commands described later.</li>
<li>The password of the gsadm user has not been set. With the root user privilege, please set the password appropriately.<ul>
<li>Some of the functions of the operation tools may be necessary.</li>
</ul>
</li>
</ul>
<p>In addition, when the GridDB node module is installed, services that are executed automatically upon startup of the OS will be registered.</p>
<p>Service name</p>
<p>Run level</p>
<p>gridstore</p>
<p>3,4,5</p>
<p>The service registration data can be checked with the following command.</p>
<p># /sbin/chkconfig –list | grep gridstore
gridstore 0:off 1:off 2:off 3:on 4:on 5:on 6:off</p>
<p>The GridDB node will be started automatically by this service during OS startup.</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>Services will not start automatically immediately after installation.</li>
</ul>
<p>To stop auto startup of a service, use the command below.</p>
<p># /sbin/chkconfig gridstore off</p>
<p>See the chapter on services in “GridDB Operational Management Guide” (<a class="reference external" href="https://griddb.net/en/docs/manuals/v3.1/GridDB_OperationGuide.html">GridDB_OperationGuide.html</a>) for details of the services.</p>
<div class="section" id="post-installation-checks">
<span id="post-installation-checks"></span><h3>Post-installation checks<a class="headerlink" href="#post-installation-checks" title="Permalink to this headline">¶</a></h3>
<p>Check the directory configuration of the installed GridDB node.</p>
<p>First, check that the GridDB home directory, and related directory and files have been created.</p>
<p><strong>GridDB home directory</strong></p>
<p>/var/lib/gridstore/                      # GridDB home directory
admin/                # integrated operational management GUI home directory
backup/               # backup directory
conf/                 # definition file directory
gs_cluster.json  # cluster definition file
gs_node.json     # node definition file
password         # user definition file
data/                 # database file directory
log/                  # log directory</p>
<p>Confirm with the following command.</p>
<p>$ ls /var/lib/gridstore/
admin backup conf data log</p>
<p>Next, check that the installation directory has been created</p>
<p><strong>Installation directory</strong></p>
<p>/usr/gridstore-X.X.X/              # installation directory
Fixlist.pdf   # revision record
Readme.txt    # release instructions
bin/          # operation command, module directory
conf/         # definition file sample directory
docs/         # document directory
etc/
lib/          # library directory
license/      # license directory
prop/         # configuration file directory
web/          # integrated operational management GUI file directory</p>
<p>Confirm with the following command.</p>
<p>$ ls /usr/gridstore-X.X.X/
Fixlist.pdf Readme.txt bin conf etc lib license prop web</p>
<p>All documents have been compressed into a single ZIP file. Decompress and refer to the documents where appropriate as shown below.</p>
<p>$ cd /usr/gridstore-X.X.X/docs
$ unzip griddb-documents-X.X.X.zip</p>
<p>In addition, the following symbolic links are created as shown below in a few directories under the installation directory for greater convenience.</p>
<p>$ ls /usr/gridstore/
conf lib prop web</p>
<p>Lastly, confirm the version of the server module installed with the following command.</p>
<p>$ gsserver –version
GridDB version X.X.X build XXXXX</p>
<p><strong>Points to note</strong></p>
<p>The following files are created when GridDB is operated according to the following procedure.</p>
<p>[Database file]</p>
<p>/var/lib/gridstore/                     # GridDB home directory
data/                # database file directory
gs_log_n_m.log  # log file to record the transaction logs (n, m are numbers)
gs_cp_n_p.dat   # checkpoint file to record data regularly (n, p are numbers)</p>
<p>[Log file]</p>
<p>/var/lib/gridstore/                            # GridDB home directory
log/                        # log directory
gridstore-%Y%m%d-n.log  # event log file
gs_XXXX.log             # operation tool log file</p>
<p>The directory where these files are created can be changed by the parameter settings in the node definition file.</p>
<p>*: gs_XXXX is an operation tool name. (Example: gs_startnode.log)</p>
</div>
<div class="section" id="setting-up-an-administrator-user">
<span id="setting-up-an-administrator-user"></span><h3>Setting up an Administrator User<a class="headerlink" href="#setting-up-an-administrator-user" title="Permalink to this headline">¶</a></h3>
<p>Administrator privilege is used for authentication related matter within the nodes and clusters. Creation date of administrator user is saved in the <strong>user definition file</strong>. The default file is as shown below.</p>
<ul class="simple">
<li>/var/lib/gridstore/conf/password</li>
</ul>
<p>The default user below exists immediately after installation.</p>
<p>User</p>
<p>Password</p>
<p>Example of proper use</p>
<p>admin</p>
<p>admin</p>
<p>For authentication of operation administrator user, operation commands</p>
<p>system</p>
<p>manager</p>
<p>For authentication of application user, client execution</p>
<p>Administrator user information including the above-mentioned default users can be changed using the user administration command in the operating commands.</p>
<p>Command</p>
<p>Function</p>
<p>gs_adduser</p>
<p>Add an administrator user</p>
<p>gs_deluser</p>
<p>Delete an administrator user</p>
<p>gs_passwd</p>
<p>Change the password of administrator user</p>
<p>Change the password as shown below when using a default user. The password is encrypted during registration.</p>
<p>$ gs_passwd admin
Password: (enter password)
Retype password: (re-enter password)</p>
<p>When adding a new administrator user except a default user, the user name has to start with gs#.</p>
<p>One or more ASCII alphanumeric characters and the underscore sign “_” can be used after gs#.</p>
<p>An example on adding a new administrator user is shown below.</p>
<p>$ gs_adduser gs#newuser
Password: (enter password)
Retype password: (re-enter password)</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>A GridDB administrator user is different from the OS user gsadm created during installation.</li>
<li>A change in the administrator user information using a user administration command becomes valid when a node is restarted.</li>
<li>In order to use it for authentication purposes in the client, the same user data needs to be registered in all the nodes. Copy the <strong>user definition file</strong> and make sure the same user data can be referred to in all the nodes.</li>
<li>Execute the operating command as a gsadm user.</li>
</ul>
<p><strong>[Memo]</strong></p>
<ul class="simple">
<li>See “GridDB Operational Management Guide” (<a class="reference external" href="https://griddb.net/en/docs/manuals/v3.1/GridDB_OperationGuide.html">GridDB_OperationGuide.html</a>) for details of the user management commands.</li>
</ul>
</div>
<div class="section" id="setting-the-environment-dependent-parameters">
<span id="setting-the-environment-dependent-parameters"></span><h3>Setting the environment-dependent parameters<a class="headerlink" href="#setting-the-environment-dependent-parameters" title="Permalink to this headline">¶</a></h3>
<p>After installation, the following settings are necessary in order to operate GridDB.</p>
<ol class="simple">
<li>Network environment settings</li>
<li>Cluster name settings</li>
</ol>
<p>GridDB settings are configured by editing 2 types of definition files.</p>
<ul class="simple">
<li>Cluster definition file (gs_cluster.json)</li>
<li>Node definition file (gs_node.json)</li>
</ul>
<p>The cluster definition file defines the parameters that are common in the entire clusters.</p>
<p>The node definition files define the parameters for the different settings in each node.</p>
<p>These definition file samples are installed as follows.</p>
<p>/usr/gridstore/                     # installation directory
conf/                # definition file directory
gs_cluster.json # cluster definition file sample
gs_node.json    # node definition file sample</p>
<p>In a new installation, the same files are also placed in the conf directory under the GridDB home directory.</p>
<p>/var/lib/gridstore/                     # GridDB home directory
conf/                # definition file directory
gs_cluster.json # (edited) cluster definition file
gs_node.json    # (edited) node definition file</p>
<p>During operations, edit these definition files.</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>When the GridDB version is upgraded, compare the newly installed sample with these definition files to adequately reflect the parameters added.</li>
<li>A cluster definition file defines the parameters that are common in the entire clusters. As a result, the settings must be the same in all of the nodes in the cluster. Nodes with different settings will get an error upon joining the cluster and prevented from participating in the cluster. Further details will be explained in the later chapter.</li>
</ul>
</div>
<div class="section" id="network-environment-settings-essential">
<span id="network-environment-settings-essential"></span><h3>Network environment settings (essential)<a class="headerlink" href="#network-environment-settings-essential" title="Permalink to this headline">¶</a></h3>
<p>First, set up the network environment.</p>
<p>An explanation of the recommended configuration method in an environment that allows a multicast to be used is given below. In an environment which does not allow a multicast to be used, or an environment in which communications between fellow nodes cannot be established in a multicast, a cluster configuration method other than the multicast method has to be used. See <a class="reference external" href="#other_mode">Other cluster configuration method settings</a> for the details.</p>
<p>The configuration items can be broadly divided as follows.</p>
<ul class="simple">
<li>(1) Address information serving as an interface with the client</li>
<li>(2) Address information for cluster administration and processing</li>
<li>(3) Address information serving as an interface with the JDBC client (GridDB Advanced Edition only)</li>
</ul>
<p>Although these settings need to be set to match the environment, basically default settings will also work.</p>
<p>However, an IP address derived in reverse from the host name of the machine needs to be an address that allows it to be connected from the outside regardless of whether the GridDB cluster has a multiple node configuration or a single node configuration.</p>
<p>Normally, this can be set by stating the host name and the corresponding IP address in the /etc/hosts file.</p>
<p><strong>/etc/hosts setting</strong></p>
<p>First, check with the following command to see whether the setting has been configured. If the IP address appears, it means that the setting has already been configured.</p>
<p>$ hostname -i
192.168.11.10</p>
<p>The setting has not been configured in the following cases.</p>
<p>$ hostname -i
hostname: no address corresponding to name</p>
<p>In addition, a loopback address that cannot be connected from the outside may appear.</p>
<p>$ hostname -i
127.0.0.1</p>
<p>If the setting has not been configured or if a loopback address appears, use the following example as a reference to configure /etc/hosts. The host name and IP address, and the appropriate network interface card (NIC) differ depending on the environment.</p>
<ol>
<li><p class="first">Check the host name and IP address.</p>
<p>$ hostname
GS_HOST
$ ip route | grep eth0 | cut -f 12 -d ” ” | tr -d “\n”
192.168.11.10</p>
</li>
<li><p class="first">Add the IP address and corresponding host name checked by the root user to the /etc/hosts file.</p>
<p>192.168.11.10 GS_HOST</p>
</li>
<li><p class="first">Check that the settings have been configured correctly.</p>
<p>$ hostname -i
192.168.11.10</p>
</li>
</ol>
<p>*If the displayed setting remains the same as before, it means that a setting higher in priority is given in the /etc/hosts file. Change the priority order appropriately.</p>
<p>Proceed to the next setting after you have confirmed that /etc/hosts has been configured correctly.</p>
<p><strong>(1) Address information serving as an interface with the client</strong></p>
<p>In the address data serving as an interface with the client, there are configuration items in the <strong>node definition file</strong> and <strong>cluster definition file</strong>.</p>
<p><strong>Node definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/transaction/serviceAddress</p>
<p>string</p>
<p>Reception address of transaction process</p>
<p>/transaction/servicePort</p>
<p>string</p>
<p>Reception port of transaction process</p>
<p>/system/serviceAddress</p>
<p>string</p>
<p>Connection address of operation command</p>
<p>/system/servicePort</p>
<p>string</p>
<p>Connection port of operation command</p>
<p>The reception address and port of transaction processes are used to connect individual client to the nodes in the cluster, and to request for the transaction process from the cluster. This address is used when configuring a cluster with a single node, but in the case where multiple nodes are present through API, the address is not used explicitly.</p>
<p>The connection address and port of the operating command are used to specify the process request destination of the operation command, as well as the repository information of the integrated operation control GUI.</p>
<p>These reception/connection addresses need not be set so long as there is no need to use/separate the use of multiple interfaces.</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/transaction/notificationAddress</p>
<p>string</p>
<p>Interface address between client and cluster</p>
<p>/transaction/notificationPort</p>
<p>string</p>
<p>Interface port between client and cluster</p>
<p>A multi-cast address and port are specified in the interface address between a client and cluster. This is used by a GridDB cluster to send cluster information to its clients and for the clients to send processing requests via the API to the cluster. See the description of GridStoreFactory class/method in “GridDB API reference” (<a class="reference external" href="http://www.griddb.org/griddb_nosql/manual/GridDB_API_Reference.html">GridDB_API_Reference.html</a>) for details.</p>
<p>It is also used as a connection destination address of the export/import tool, or as repository data of the integrated operation control GUI.</p>
<p><strong>(2) Address information for cluster administration and processing</strong></p>
<p>In the address data for a cluster to autonomously perform cluster administration and processing, there are configuration items in the <strong>node definition file</strong> and <strong>cluster definition file</strong>. These addresses are used internally by GridDB to exchange the heart beat (live check among clusters) and information among the clusters. These settings are not necessary so long as the address used is not duplicated with other systems on the same network or when using multiple network interface cards.</p>
<p><strong>Node definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/cluster/serviceAddress</p>
<p>string</p>
<p>Reception address used for cluster administration</p>
<p>/cluster/servicePort</p>
<p>string</p>
<p>Reception port used for cluster administration</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/cluster/notificationAddress</p>
<p>string</p>
<p>Multicast address for cluster administration</p>
<p>/cluster/notificationPort</p>
<p>string</p>
<p>Multicast port for cluster administration</p>
<ul class="simple">
<li>Although a synchronization process is carried out with a replica when the cluster configuration is changed, a timeout time can be set for the process.<ul>
<li>/sync/timeoutInterval</li>
</ul>
</li>
</ul>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>An address or port that is not in use except in GridDB has to be set.</li>
<li>The same address can be set for the node definition file gs_node.json /transaction/serviceAddress, /system/serviceAddress, and /cluster/serviceAddress for operations to be performed. If a machine has multiple network interfaces, the bandwidth can be increased by assigning a separate address to each respective interface.</li>
</ul>
<p>The following settings are applicable in the GridDB Advanced Edition only.</p>
<p><strong>(3) Address information serving as an interface with the JDBC client</strong></p>
<p>In the address data serving as an interface with the JDBC/ODBC client, there are configuration items in the <strong>node definition file</strong> and <strong>cluster definition file</strong>.</p>
<p><strong>Node definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/sql/serviceAddress</p>
<p>string</p>
<p>Reception address for JDBC/ODBC client connection</p>
<p>/sql/servicePort</p>
<p>int</p>
<p>Reception port for JDBC/ODBC client connection</p>
<p>The reception address and port of JDBC/ODBC client connection are used to connect JDBC/ODBC individual client to the nodes in the cluster, and to access the cluster data in SQL. This address is used when configuring a cluster with a single node, but in the case where multiple nodes are present through API, the address is not used explicitly.</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/sql/notificationAddress</p>
<p>string</p>
<p>Address for multi-cast distribution to JDBC/ODBC client</p>
<p>/sql/notificationPort</p>
<p>int</p>
<p>Multicast port to JDBC/ODBC client</p>
<p>The address and port used for multicast distribution to a JDBC/ODBC client are used for the GridDB cluster to notify the JDBC/ODBC client of cluster data, and to access the cluster data in SQL with the JDBC/ODBC client.</p>
<p>Refer to Annex <a class="reference external" href="#param_list">Parameter List</a> for the other parameters and default values.</p>
</div>
<div class="section" id="cluster-name-settings-essential">
<span id="cluster-name-settings-essential"></span><h3>Cluster name settings (essential)<a class="headerlink" href="#cluster-name-settings-essential" title="Permalink to this headline">¶</a></h3>
<p>Set the name of the cluster to be composed by the target nodes in advance. The name set will be checked to see if it matches the value specified in the command to compose the cluster. As a result, this prevents a different node and cluster from being composed when there is an error in specifying the command.</p>
<p>The cluster name is specified in the following configuration items of the <strong>cluster definition file</strong>.</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/cluster/clusterName</p>
<p>string</p>
<p>Name of cluster to create</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>Node failed to start with default value (“”).</li>
<li>A unique name on the sub-network is recommended.</li>
<li>A cluster name is a string composed of 1 or more ASCII alphanumeric characters and the underscore “_”. However, the first character cannot be a number. The name is also not case-sensitive. In addition, it has to be specified within 64&nbsp;characters.</li>
</ul>
</div>
<div class="section" id="settings-of-other-cluster-configuration-methods">
<span id="settings-of-other-cluster-configuration-methods"></span><h3>Settings of other cluster configuration methods<a class="headerlink" href="#settings-of-other-cluster-configuration-methods" title="Permalink to this headline">¶</a></h3>
<p>In an environment which does not allow the multicast method to be used, configure the cluster using the fixed list method or provider method. An explanation of the respective network settings in the fixed list method and provider method is given below.</p>
<p>When using the multicast method, proceed to <a class="reference external" href="#tune-up_params">Setting the tuning parameters</a>.</p>
<p><strong>(1) Fixed list method</strong></p>
<p>When a fixed address list is given to start a node, the list is used to compose the cluster.</p>
<p>When composing a cluster using the fixed list method, configure the parameters in the cluster definition file.</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/cluster/notificationMember</p>
<p>string</p>
<p>Specify the address list when using the fixed list method as the cluster configuration method.</p>
<p>A configuration example of a cluster definition file is shown below.</p>
<p>{
:
:
“cluster”:{
“clusterName”:”yourClusterName”,
“replicationNum”:2,
“heartbeatInterval”:”5s”,
“loadbalanceCheckInterval”:”180s”,
“notificationMember”: [
{
“cluster”: {“address”:”172.17.0.44”, “port”:10010},
“sync”: {“address”:”172.17.0.44”, “port”:10020},
“system”: {“address”:”172.17.0.44”, “port”:10040},
“transaction”: {“address”:”172.17.0.44”, “port”:10001},
“sql”: {“address”:”172.17.0.44”, “port”:20001}
},
{
“cluster”: {“address”:”172.17.0.45”, “port”:10010},
“sync”: {“address”:”172.17.0.45”, “port”:10020},
“system”: {“address”:”172.17.0.45”, “port”:10040},
“transaction”: {“address”:”172.17.0.45”, “port”:10001},
“sql”: {“address”:”172.17.0.45”, “port”:20001}
},
{
“cluster”: {“address”:”172.17.0.46”, “port”:10010},
“sync”: {“address”:”172.17.0.46”, “port”:10020},
“system”: {“address”:”172.17.0.46”, “port”:10040},
“transaction”: {“address”:”172.17.0.46”, “port”:10001},
“sql”: {“address”:”172.17.0.46”, “port”:20001}
}
]
},
:
:
}</p>
<p><strong>(2) Provider method</strong></p>
<p>Get the address list supplied by the address provider to perform cluster configuration.</p>
<p>When composing a cluster using the provider method, configure the parameters in the cluster definition file.</p>
<p><strong>Cluster definition file</strong></p>
<p>Parameters</p>
<p>Data type</p>
<p>Meaning</p>
<p>/cluster/notificationProvider/url</p>
<p>string</p>
<p>Specify the URL of the address provider when using the provider method as the cluster configuration method.</p>
<p>/cluster/notificationProvider/updateInterval</p>
<p>string</p>
<p>Specify the interval to get the list from the address provider. Specify a value that is 1s or higher and less than 2^31s.</p>
<p>A configuration example of a cluster definition file is shown below.</p>
<p>{
:
:
“cluster”:{
“clusterName”:”yourClusterName”,
“replicationNum”:2,
“heartbeatInterval”:”5s”,
“loadbalanceCheckInterval”:”180s”,
“notificationProvider”:{
“url”:”http://example.com/notification/provider”,
“updateInterval”:”30s”
}
},
:
:
}</p>
<p>The address provider can be configured as a Web service or as a static content. The specifications below need to be satisfied.</p>
<ul class="simple">
<li>Compatible with the GET method.</li>
<li>When accessing the URL, the node address list of the cluster containing the cluster definition file in which the URL is written is returned as a response.<ul>
<li>Response body: Same JSON as the contents of the node list specified in the fixed list method</li>
<li>Response header: Including Content-Type:application/json</li>
</ul>
</li>
</ul>
<p>An example of a response sent from the address provider is as follows.</p>
<p>$ curl http://example.com/notification/provider
[
{
“cluster”: {“address”:”172.17.0.44”, “port”:10010},
“sync”: {“address”:”172.17.0.44”, “port”:10020},
“system”: {“address”:”172.17.0.44”, “port”:10040},
“transaction”: {“address”:”172.17.0.44”, “port”:10001},
“sql”: {“address”:”172.17.0.44”, “port”:20001}
},
{
“cluster”: {“address”:”172.17.0.45”, “port”:10010},
“sync”: {“address”:”172.17.0.45”, “port”:10020},
“system”: {“address”:”172.17.0.45”, “port”:10040},
“transaction”: {“address”:”172.17.0.45”, “port”:10001},
“sql”: {“address”:”172.17.0.45”, “port”:20001}
},
{
“cluster”: {“address”:”172.17.0.46”, “port”:10010},
“sync”: {“address”:”172.17.0.46”, “port”:10020},
“system”: {“address”:”172.17.0.46”, “port”:10040},
“transaction”: {“address”:”172.17.0.46”, “port”:10001},
“sql”: {“address”:”172.17.0.46”, “port”:20001}
}
]</p>
<p>[Memo]</p>
<ul class="simple">
<li>Specify the serviceAddress and servicePort of the node definition file in each module (cluster,sync etc.) for each address and port.</li>
<li>sql items are required in the GridDB Advanced Edition only.</li>
<li>Set either the /cluster/notificationAddress, /cluster/notificationMember, /cluster/notificationProvider in the cluster definition file to match the cluster configuration method used.</li>
<li>See “GridDB technical reference” (<a class="reference external" href="https://griddb.net/en/docs/manuals/v3.1/GridDB_TechnicalReference.html">GridDB_TechnicalReference.html</a>) for details on the cluster configuration method.</li>
</ul>
</div>
<div class="section" id="installation-and-setup-client">
<span id="installation-and-setup-client"></span><h3>Installation and setup (client)<a class="headerlink" href="#installation-and-setup-client" title="Permalink to this headline">¶</a></h3>
<p>This chapter explains the installation procedure of the client library. There are 2 types of client library in GridDB, Java and C. Only the Java version supports the GridDB Advanced Edition NewSQL interface.</p>
<p><strong>[Points to note]</strong></p>
<ul class="simple">
<li>When choosing the OS package group during OS installation, please choose the minimum version or lower.<ul>
<li>Software Development WorkStation</li>
</ul>
</li>
</ul>
<p>The following needs to be installed as a Java language development environment.</p>
<ul class="simple">
<li>Oracle Java 6/7/8</li>
<li>Only 64-bit Java is supported by the GridDB Advanced Edition NewSQL interface.</li>
</ul>
<p>$ java -version
java version “1.7.0_79”
Java(TM) SE Runtime Environment (build 1.7.0_79-b15)
Java HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)</p>
</div>
<div class="section" id="installing-the-client-library">
<span id="installing-the-client-library"></span><h3>Installing the client library<a class="headerlink" href="#installing-the-client-library" title="Permalink to this headline">¶</a></h3>
<p>The following 4 RPM packages are required for the installation of the GridDB client library. Place the packages anywhere in the machine.</p>
<p>The griddb-newsql package is only available in GridDB Advanced Edition.</p>
<p>Package name</p>
<p>File name</p>
<p>Description</p>
<p>griddb-java_lib</p>
<p>griddb-java_lib-X.X.X-linux.x86_64.rpm</p>
<p>Java library is included.</p>
<p>(/usr/share/java/gridstore.jar)</p>
<p>griddb-c_lib</p>
<p>griddb-c_lib-X.X.X-linux.x86_64.rpm</p>
<p>C header file and library are included.</p>
<p>(/usr/include/gridstore.h and /usr/lib64/libgridstore.so)</p>
<p>griddb-docs</p>
<p>griddb-docs-X.X.X-linux.x86_64.rpm</p>
<p>GridDB manual and program samples are included.</p>
<p>griddb-newsql</p>
<p>griddb-newsql-X.X.X-linux.x86_64.rpm</p>
<p>NewSQL interface library is included.</p>
<p>Install using the rpm command as a root user.</p>
<p>$ su
# rpm -ivh griddb-c_lib-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
1:griddb-c_lib                  ########################################### [100%]
# rpm -ivh griddb-java_lib-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
1:griddb-java_lib               ########################################### [100%]
# rpm -ivh griddb-docs-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
1:griddb-docs                   ########################################### [100%]
# rpm -ivh griddb-newsql-X.X.X-linux.x86_64.rpm
Under preparation…           ########################################### [100%]
1:griddb-newsql                 ########################################### [100%]</p>
</div>
<div class="section" id="setting-up-a-library">
<span id="setting-up-a-library"></span><h3>Setting up a library<a class="headerlink" href="#setting-up-a-library" title="Permalink to this headline">¶</a></h3>
<p>When the Java version of the client is used, add the client library to CLASSPATH.</p>
<p>$ export CLASSPATH=${CLASSPATH}:/usr/share/java/gridstore.jar</p>
<p>When the C version is used instead, add the client library to LD_LIBRARY_PATH.</p>
<p>$ export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/usr/lib64</p>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="6-2_sizing-and-scaling.html" title="Previous document">6.2 Sizing and Scaling</a>
        </li>
        <li>
          <a href="6-4_upgrading-the-editions.html" title="Next document">6.4 Upgrading the Editions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">GridDB-Docs</h1>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=griddb&repo=griddb_nosql&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="1-1_what-is-griddb.html">1.1 What is GridDB?</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-2_griddb-edition.html">1.2 GridDB Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-1_system-requirements.html">2.1 System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-2_installation.html">2.2 Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-3_run-your-first-griddb-node-cluster.html">2.3 Run your First GridDB Node/Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-4_run-a-sample-java-client-app.html">2.4 Run a Sample Java Client App</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-1_griddb-technical-overview.html">3.1 GridDB Technical Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-2_key-container-model.html">3.2 Key Container Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-3_tql.html">3.3 TQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-4_crud-operations.html">3.4 CRUD Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-5_transactions-and-acid.html">3.5 Transactions and ACID</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-6_indexes.html">3.6 Indexes</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-7_storage-architecture.html">3.7 Storage Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-8_replication-distribution.html">3.8 Replication &amp; Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-9_sharding.html">3.9 Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-1_data-modeling-basics.html">4.1 Data Modeling Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-2_data-modeling-using-griddb.html">4.2 Data Modeling Using GridDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-3_modeling-relationships.html">4.3 Modeling Relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-4_possibilities-and-variations-of-data-models-in-griddb.html">4.4 Possibilities and Variations of Data Models in GridDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-1_introduction.html">5.1.1 Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-2_griddb-basics.html">5.1.2 GridDB Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-3_prepare-server.html">5.1.3 Preparation: Environment (server)</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-4_prepare-client.html">5.1.4 Preparation: Environment (client)</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-5_connection.html">5.1.5 Preparation: Connecting to GridDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-6_container-schema.html">5.1.6 Schema definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-7_container-create-drop.html">5.1.7 Container Creation and Deletion</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-8_collection-register.html">5.1.8 Collection Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-9_collection-retrieve.html">5.1.9 Data Retrieval</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-10_collection-delete.html">5.1.10 Data Deletion</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-11_collection-modify.html">5.1.11 Collection Modification</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-12_timeseries-register.html">5.1.12 Data Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-13_timeseries-retrieve.html">5.1.13 Data Retrieval</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-14_timeseries-delete.html">5.1.14 TimeSeries Data Deletion</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-15_timeseries-modify.html">5.1.15 TimeSeries Container Modification</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-16_tql.html">5.1.16 TQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-17_trigger-rest.html">5.1.17 Trigger (REST)</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-18_trigger-jms.html">5.1.18 Trigger (JMS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-19_multiput.html">5.1.19 Multi-Put</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-20_multiquery.html">5.1.20 Multi-Query</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-1-21_multiget.html">5.1.21 Multi-Get</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-1_supported-os-platforms-and-system-requirements.html">6.1 Supported OS, Platforms and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-2_sizing-and-scaling.html">6.2 Sizing and Scaling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6.3 Installing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#on-premises">On Premises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="6-4_upgrading-the-editions.html">6.4 Upgrading the Editions</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-5_migration-from-other-databases.html">6.5 Migration from Other Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-6_cluster-administration-operations.html">6.6 Cluster Administration &amp; Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-7_monitoring-troubleshooting.html">6.7 Monitoring &amp; Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-8_tuning.html">6.8 Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-1_jdbc-connector.html">7.1 JDBC Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-2_odbc-connector.html">7.2 ODBC Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-3_hadoop-and-spark-connector.html">7.3 Hadoop and Spark Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-4_grafana-connector.html">7.4 Grafana Connector*</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="6-2_sizing-and-scaling.html" title="previous chapter">6.2 Sizing and Scaling</a></li>
      <li>Next: <a href="6-4_upgrading-the-editions.html" title="next chapter">6.4 Upgrading the Editions</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div> 
    <div class="footer">
      &copy;2018, GridDB.
      
      |
      <a href="_sources/6-3_installing.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-81028923-2']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #39A7D1;
    }
  </style>

  </body>
</html>